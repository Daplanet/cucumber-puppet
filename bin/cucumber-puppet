#!/usr/bin/env ruby

unless ARGV[0]
  puts "Usage: cucumber-puppet [options] <feature> [<feature> <feature> ...]"
  exit 1
end

command = ""
command << "cucumber "
command << "--strict "

# XXX be more creative, finding this directory
features_dir = "features"
if File.directory?(features_dir)
  command << "--require #{features_dir} "
end

command << ARGV.join(' ')

system(command) ? exit(0) : exit(1)
